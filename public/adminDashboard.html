<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Admin Dashboard - Dentilib</title>
  <link rel="stylesheet" href="/styles/home.css" />
  <style>body {display: none;}</style>
</head>

<body>
  <div class="container">

    <div class="header">
      <h1>Liste des utilisateurs</h1>
      <button id="logoutBtn">Déconnexion</button>
    </div>

    <div class="actions">
      <button  class="createBtn" id="addUserBtn">Ajouter un utilisateur</button>
      <button id="manageActesBtn">Paramétrer les actes</button>
    </div>

    <div class="search-container">
      <select class="searchFilter" id="roleFilter">
        <option value="">-- Tous les rôles --</option>
        <option value="DENTISTE">Dentiste</option>
        <option value="PROTHESISTE">Prothésiste</option>
      </select>

      <input type="text" id="searchInput" placeholder="Rechercher par nom, prénom ou email"/>
    </div>

    <div id="userMessage" style="color:red; margin-bottom:10px;"></div>
    <table>
      <thead>
        <tr>
          <th>Nom</th>
          <th>Prénom</th>
          <th>Email</th>
          <th>Rôle</th>
          <th>Siret</th>
          <th>Associé</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="userTableBody"></tbody>
    </table>
  </div>

  <!-- Modal Création-->
  <div id="userModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Ajouter un utilisateur</h2>

      <form id="addUserForm">
        <p id="addUserMessage" style="color:red;margin-bottom:10px;"></p>
        <input type="text" name="firstName" placeholder="Prénom" required />
        <input type="text" name="lastName" placeholder="Nom" required />
        <input type="email" name="email" placeholder="Email" required />
        <input type="password" name="password" placeholder="Mot de passe" required />
        <input type="text" name="siret" placeholder="SIRET" required />

        <select name="role" required>
          <option value="DENTISTE">Dentiste</option>
          <option value="PROTHESISTE">Prothésiste</option>
        </select>

        <select name="dentisteId" id="dentisteSelect" style="display: none;">
          <option value="">-- Sélectionner un dentiste --</option>
        </select>

        <button type="submit">Créer</button>
      </form>
    </div>
  </div>

  <!-- Modal Modification -->
<div id="editUserModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Modifier un utilisateur</h2>

    <form id="editUserForm">
      <p id="editUserMessage" style="color:red;margin-bottom:10px;"></p>
      <input type="text" name="firstName" required />
      <input type="text" name="lastName" required />
      <input type="email" name="email" required />
      <input type="password" name="password" placeholder="Nouveau mot de passe (laisser vide si inchangé)" />
      <input type="text" name="siret" />

      <select name="dentisteId" id="editDentisteSelect" style="display:none">
        <option value="">-- Sélectionner un dentiste --</option>
      </select>

      <button type="submit">Modifier</button>
    </form>
  </div>
</div>


  <script src="/js/admin.js"></script>
</body>
</html>